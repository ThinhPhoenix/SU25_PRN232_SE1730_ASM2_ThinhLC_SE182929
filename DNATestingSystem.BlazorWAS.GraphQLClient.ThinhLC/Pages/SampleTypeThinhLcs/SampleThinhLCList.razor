@using DNATestingSystem.BlazorWAS.GraphQLClient.ThinhLC.GraphQLClients
@page "/SampleTypeThinhLCList"

@inject NavigationManager Navigation
@inject IJSRuntime JSRuntime
@inject GraphQLConsumer GraphQLConsumer

<h3>Danh sách Sample Type ThinhLC</h3>

@if (isLoading)
{
    <p>Đang tải dữ liệu...</p>
}
else
{
    <button class="btn btn-primary mb-2" @onclick="NavigateToAdd">Thêm mới</button>
    <table class="table table-bordered table-striped">
        <thead>
            <tr>
                <th>ID</th>
                <th>Tên loại</th>
                <th>Mô tả</th>
                <th>Hoạt động</th>
                <th>Đếm</th>
                <th>Ngày tạo</th>
                <th>Ngày cập nhật</th>
                <th>Thao tác</th>
            </tr>
        </thead>
        <tbody>
            @if (sampleTypes.Count == 0)
            {
                <tr><td colspan="8">Không có dữ liệu.</td></tr>
            }
            else
            {
                @foreach (var item in sampleTypes)
                {
                    <tr>
                        <td>@item.SampleTypeThinhLcid</td>
                        <td>@item.TypeName</td>
                        <td>@item.Description</td>
                        <td>@(item.IsActive == true ? "Có" : "Không")</td>
                        <td>@item.Count</td>
                        <td>@item.CreatedAt?.ToString("dd/MM/yyyy")</td>
                        <td>@item.UpdatedAt?.ToString("dd/MM/yyyy")</td>
                        <td>
                            <button class="btn btn-info btn-sm me-1" @onclick="() => NavigateToDetail(item.SampleTypeThinhLcid)">Chi tiết</button>
                            <button class="btn btn-warning btn-sm me-1" @onclick="() => NavigateToEdit(item.SampleTypeThinhLcid)">Sửa</button>
                            <button class="btn btn-danger btn-sm" @onclick="() => ConfirmDelete(item.SampleTypeThinhLcid)">Xóa</button>
                        </td>
                    </tr>
                }
            }
        </tbody>
    </table>
}
